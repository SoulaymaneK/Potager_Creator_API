<%- include('header.ejs', { pageTitle: 'Accueil - PotagerCreator' }) %>

<main class="container mt-5">
    <div class="row">
        <div class="col-md-6">
            <div class="text-center">
                <h2>Bienvenue sur PotagerCreator <%= user.name %></h2>
                <p>Créez et gérez facilement votre propre potager en utilisant notre application !</p>
            </div>
        </div>
        <div class="col-md-6">
            <div class="text-right">
                <button class="btn btn-outline-success mb-2" onclick="window.location.href='/users/nouveau_jardin'">Créer un nouveau potager</button>
                <button class="btn btn-outline-success mb-2" onclick="window.location.href='/deconnexion'">Déconnexion</button>
            </div>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col-md-12">
            <% if (jardins.length > 0) { %>
                <h3>Mes Jardins</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">Nom</th>
                            <th scope="col">Taille</th>
                            <th scope="col">Localisation</th>
                            <th scope="col">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% jardins.forEach(jardin => { %>
                            <tr>
                                <td><%= jardin.nom %></td>
                                <td><%= jardin.taille %> m²</td>
                                <td><%= jardin.localisation %></td>
                                <td>
                                    <a href="users/ajout_vegetaux/<%= jardin.id %>" class="btn btn-primary">Ajouter des végétaux</a>
                                    <a href="users/supprimer_jardin/<%= jardin.id %>" class="btn btn-danger">Supprimer</a>
                                    <a href="users/modifier_jardin/<%= jardin.id %>" class="btn btn-success">Modifier</a>
                                </td>
                            </tr>
                        <% }); %>
                    </tbody>
                </table>
            <% } else { %>
                <p>Vous n'avez pas encore créé de jardin.</p>
            <% } %>
        </div>
    </div>
</main>

<%- include('footer.ejs') %>
